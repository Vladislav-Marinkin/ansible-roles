---
# ===============================================
# üõë –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–ª—É–∂–±—ã Kafka
# ===============================================

- name: Stop Kafka service
  systemd:
    name: kafka
    state: stopped
    enabled: false

# ===============================================
# üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ –ª–æ–≥–æ–≤ –∏ –¥–∞–Ω–Ω—ã—Ö Kafka
# ===============================================

- name: Remove Kafka logs and data directories
  file:
    path: "{{ item }}"
    state: absent
  with_items:
    - "{{ kafka_install_dir }}"
    - "{{ kafka_data_dir }}"
    - "{{ kafka_logs_dir }}"

# ===============================================
# üë§ –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –≥—Ä—É–ø–ø—ã Kafka
# ===============================================

- name: Remove Kafka user 
  user:
    name: kafka
    state: absent

- name: Remove Kafka group
  group:
    name: kafka
    state: absent
