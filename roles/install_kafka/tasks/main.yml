---
# ============================================================
# üö® –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è Playbook –ø—Ä–∏ `skip_playbook: true`
# ============================================================
- name: Show skip message
  debug:
    msg: "üö® Playbook execution is disabled by `skip_playbook`. Exiting..."
  run_once: true
  when: skip_playbook | default(false)
  
- name: Stop execution if `skip_playbook` is enabled
  meta: end_play
  when: skip_playbook | default(false)

# ============================================================
# üö® –£–¥–∞–ª–µ–Ω–∏–µ –∫–ª–∞—Å—Ç–µ—Ä–∞, –µ—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `delete_cluster` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤ true
# ============================================================
- name: Delete cluster
  include_tasks: delete_cluster.yml
  when: delete_cluster

# ============================================================
# üñ•Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤
# ============================================================
- name: Configure servers
  include_tasks: configure_servers.yml

# ============================================================
# üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Kafka
# ============================================================
- name: Install kafka
  include_tasks: install_kafka.yml

# ============================================================
# ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Kafka
# ============================================================
- name: Configure kafka
  include_tasks: configure_kafka.yml

# ============================================================
# üöÄ –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞ Kafka
# ============================================================
- name: launching the kafka service
  include_tasks: launching_kafka_service.yml
